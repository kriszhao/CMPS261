
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<html>
    <head>
        <meta charset="utf-8">
        <script src="lib/esl.js"></script>
        <script src="lib/config.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <style>
            html, body, #main {
                width: 100%;
                height: 100%;
                top: 0rem;
                margin: 0;
            }
        </style>
        <table style="width:100%">
        </table>
        <div id="main" style="transform:scale(1.0);"></div>
        <script>
            require([
                'echarts'
                // 'echarts/chart/heatmap',
                // 'echarts/component/legend',
                // 'echarts/component/visualMap',
                // 'echarts/component/grid',
                // 'echarts/component/polar',
                // 'echarts/component/tooltip'
            ], function (echarts) {

                var chart = echarts.init(document.getElementById('main'));

                var hours = ['sinusitis', 'rhinitis', 'hypertension', 'freck', 'anemia', 'malnutrition', 'urticaria', 'AIDS', 'lumbar muscle strain', 'cerebral infarction', ' Cerebral hemorrhage', 'fatty liver', 'gastros', 'kidney stones', 'kidney disease', 'pneumonia', 'cirrhosis', 'liver disease', 'hepatitis', 'anal fissure', 'conjunctivitis', ' Diabetes', 'dermatosis', 'dermatitis'];

                var days = ['0-10', '10-20', '20-30',
                        '30-40', '40-50', '50-60', 'age>60'];

                var data = [[0, 0, 2.118850852420458], [0, 1, 5.789438946534717], [0, 2, 0.5911141867404818], [0, 3, 0.4373104954518908], [0, 4, 3.434782434778435], [0, 5, 1.549137179292303], [0, 6, 1.8100434410425852], [0, 7, 0.1663039912957911], [0, 8, 0.007500180004320104], [0, 9, 0.06680160323847772], [0, 10, 0.25460611054665316], [0, 11, 0.03900093602246454], [0, 12, 1.30203124874997], [0, 13, 0.12850308407401778], [0, 14, 0.4903117674824196], [0, 15, 6.423454162899909], [0, 16, 0.1815043561045465], [0, 17, 0.42091010184244426], [0, 18, 0.6415153963695128], [0, 19, 0.30620734897637547], [0, 20, 1.9222461339072139], [0, 21, 0.7978191476595438], [0, 22, 1.2919310063441523], [0, 23, 1.2818307639383346], [1, 0, 2.0387570851983856], [1, 1, 5.668758725244307], [1, 2, 1.7041477161360519], [1, 3, 1.5793442216382059], [1, 4, 3.6802030456852792], [1, 5, 1.4965419031732887], [1, 6, 2.178360994107835], [1, 7, 2.5425711919933756], [1, 8, 0.3132087698455557], [1, 9, 0.08120227366366259], [1, 10, 0.219306140571936], [1, 11, 0.20090562535751], [1, 12, 2.9030812862760156], [1, 13, 0.5303148488157668], [1, 14, 0.553215490033721], [1, 15, 1.7942502390066921], [1, 16, 0.47571331997295924], [1, 17, 2.3689663310572695], [1, 18, 1.5711439920317771], [1, 19, 0.729020412571552], [1, 20, 1.1397319124935499], [1, 21, 1.9553547499329982], [1, 22, 2.6903753305092546], [1, 23, 2.285563995791882], [2, 0, 1.225333083993268], [2, 1, 3.930406120965266], [2, 2, 2.3813642968360145], [2, 3, 0.7949214628794977], [2, 4, 3.9151057078541123], [2, 5, 1.245533629407994], [2, 6, 1.7765479667951036], [2, 7, 3.746801163631418], [2, 8, 0.6690180634877142], [2, 9, 0.13710370179994857], [2, 10, 0.18290493843333772], [2, 11, 0.6785183199946399], [2, 12, 3.4656935737264907], [2, 13, 0.6829184387978475], [2, 14, 0.5950160654337667], [2, 15, 1.0972296251998803], [2, 16, 0.7311197402329863], [2, 17, 4.309716362341783], [2, 18, 2.3099623689839626], [2, 19, 0.963026001702046], [2, 20, 0.852723023521635], [2, 21, 2.8891780078062106], [2, 22, 2.2929619099715692], [2, 23, 2.4120651257583954], [3, 0, 1.136529549768294], [3, 1, 3.6023936622352184], [3, 2, 5.2840373849720095], [3, 3, 0.5107132785452422], [3, 4, 3.996203901301434], [3, 5, 1.0809281041307075], [3, 6, 1.6255422640988666], [3, 7, 2.184656801076828], [3, 8, 0.9224239830235585], [3, 9, 0.3865100492612808], [3, 10, 0.3638094590459352], [3, 11, 1.5975415360799379], [3, 12, 4.333012658329117], [3, 13, 1.0046261202791273], [3, 14, 0.9654251010526274], [3, 15, 1.3380347889045114], [3, 16, 1.5525403660495172], [3, 17, 4.160508173212504], [3, 18, 2.4668641384676], [3, 19, 0.7533195863092441], [3, 20, 0.9620250126503289], [3, 21, 5.429041155070031], [3, 22, 1.966651132929456], [3, 23, 2.3228603943702537], [4, 0, 0.820222145997942], [4, 1, 2.5964701046928265], [4, 2, 10.820792161388358], [4, 3, 0.17400469812684943], [4, 4, 3.7829021383577355], [4, 5, 0.8639233259298001], [4, 6, 1.2757344448300103], [4, 7, 0.7836211577712597], [4, 8, 0.797821541181612], [4, 9, 1.1189302111157002], [4, 10, 1.1112300032100868], [4, 11, 1.5011405307943315], [4, 12, 5.009835265552169], [4, 13, 0.9821265174159701], [4, 14, 1.361836769592779], [4, 15, 1.1960322928719076], [4, 16, 2.3426632519078017], [4, 17, 2.75957450851173], [4, 18, 2.2707613105553848], [4, 19, 0.44831210442681957], [4, 20, 0.9044244194593255], [4, 21, 10.662087876372663], [4, 22, 1.5044406198967373], [4, 23, 1.785148199001373], [5, 0, 0.6221161750205506], [5, 1, 1.8175472562286619], [5, 2, 14.891487178666646], [5, 3, 0.049801294833665674], [5, 4, 2.7087704280311287], [5, 5, 0.6864178468640184], [5, 6, 0.673717516655433], [5, 7, 0.27980727498914976], [5, 8, 0.5533143861740406], [5, 9, 2.4424635040511053], [5, 10, 2.1816567230748], [5, 11, 1.1936310344068946], [5, 12, 4.894027244708362], [5, 13, 0.872122675189555], [5, 14, 1.5748409458645924], [5, 15, 1.5558404518517481], [5, 16, 2.5955674847546035], [5, 17, 1.7967467154146008], [5, 18, 1.6102418662885236], [5, 19, 0.24720642736711157], [5, 20, 0.6004156108058809], [5, 21, 15.67310750079502], [5, 22, 0.9146237802182856], [5, 23, 1.0641276673193503], [6, 0, 0.32820853342186895], [6, 1, 0.7886205041331075], [6, 2, 15.222495784890407], [6, 3, 0.02410062661629202], [6, 4, 2.9401764445875593], [6, 5, 0.7602197657139086], [6, 6, 0.48451259732753055], [6, 7, 0.07100184604799725], [6, 8, 0.2884074985949635], [6, 9, 4.331412616728035], [6, 10, 3.1632822453383787], [6, 11, 0.5087132265438901], [6, 12, 2.9898777368211573], [6, 13, 0.694818065269697], [6, 14, 1.3713356547270228], [6, 15, 2.604767723960823], [6, 16, 2.0576534989909736], [6, 17, 0.9009234240090243], [6, 18, 1.095628486340645], [6, 19, 0.18470480232486045], [6, 20, 0.40351049127277305], [6, 21, 16.275523163602255], [6, 22, 0.7900205405340539], [6, 23, 0.6778176232582047]];

                data = data.map(function (item) {
                    return [item[1], item[0], item[2] || '-'];
                });

                chart.setOption({
                    aria: {
                        show: true
                    },
                    tooltip: {
                        position: 'top'
                    },
                    animation: false,
                    grid: {
                        height: 300
                    },
                    xAxis: {
                        type: 'category',
                        data:  hours,
                        // ['0', '1', '2', '3', '4', '5', '6', '7', '8 ', '9' , '10', '11 ', '12', '13', '14', '15', '16', '17', '18', '19', '20', ' 21', '22', '23']
                    },
                    yAxis: {
                        type: 'category',
                        data: days
                    },
                    visualMap: {
                        min: 0,
                        max: 10,
                        calculable: true
                    },
                    series: [{
                        name: 'Punch Card',
                        type: 'heatmap',
                        name: 'Disease',
                        type: 'effectScatter',
                        cursor: 'default',
                        data: data.slice(1, 168),
                        symbolSize: function (val) {
                            return val[2] * 3;
                        },
                        label: {
                            normal: {
                                show: true
                            }
                        },
                        showEffectOn: 'render',
                        rippleEffect: {
                            brushType: 'stroke'
                        },
                        hoverAnimation: true,
                        itemStyle: {
                            emphasis: {
                                color: '#f4e925',
                                shadowBlur: 10,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }

                    ]
                });
            });
        </script>
    </body>
</html>